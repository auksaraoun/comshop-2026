generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model brands {
  id         Int        @id @default(autoincrement())
  name       String?
  created_at DateTime?  @default(now())
  updated_at DateTime?  @updatedAt
  products   products[]
}

model product_attribute_lookups {
  id                              Int                               @id @default(autoincrement())
  product_type_id                 Int?
  detail                          String?                           @db.VarChar(255)
  created_at                      DateTime?                         @default(now())
  updated_at                      DateTime?                         @updatedAt
  product_types                   product_types?                    @relation(fields: [product_type_id], references: [id])
  product_attribute_value_lookups product_attribute_value_lookups[]
  product_attributes              product_attributes[]
}

model product_attribute_value_lookups {
  id                          Int                       @id @default(autoincrement())
  product_attribute_lookup_id Int
  value                       String?                   @db.VarChar(255)
  created_at                  DateTime?                 @default(now())
  updated_at                  DateTime?                 @updatedAt
  product_attribute_lookups   product_attribute_lookups @relation(fields: [product_attribute_lookup_id], references: [id])
}

model product_attributes {
  id                          Int                        @id @default(autoincrement())
  product_id                  Int?
  product_attribute_lookup_id Int?
  product_attribute_value     String?
  qty                         Int                        @default(0) @db.SmallInt
  created_at                  DateTime?                  @default(now())
  updated_at                  DateTime?                  @updatedAt
  product_attribute_lookups   product_attribute_lookups? @relation(fields: [product_attribute_lookup_id], references: [id])
  products                    products?                  @relation(fields: [product_id], references: [id])
}

model product_details {
  id         Int       @id @default(autoincrement())
  product_id Int?
  detail     String?   @db.Text
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  products   products? @relation(fields: [product_id], references: [id])
}

model product_types {
  id                      Int                         @id @default(autoincrement())
  name                    String?
  created_at              DateTime?                   @default(now())
  updated_at              DateTime?                   @updatedAt
  products                products[]
  productAttributeLookups product_attribute_lookups[]
}

model products {
  id                 Int                  @id @default(autoincrement())
  product_type_id    Int?
  brand_id           Int?
  name               String?
  created_at         DateTime?            @default(now())
  updated_at         DateTime?            @updatedAt
  product_attributes product_attributes[]
  product_details    product_details[]
  brands             brands?              @relation(fields: [brand_id], references: [id])
  product_types      product_types?       @relation(fields: [product_type_id], references: [id])
}
